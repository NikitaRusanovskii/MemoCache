# MemoCache

**MemoCache** — учебная библиотека на C++ для кеширования данных с поддержкой различных политик вытеснения. Проект ориентирован на производительность, расширяемость и чистую архитектуру. Отлично подходит для учебных и исследовательских задач, где важен контроль над кешированием.

## Возможности

* Быстрый доступ, вставка и удаление за `O(1)` (для LRU/LFU) благодаря использованию `std::unordered_map` и `std::list`
* Ограничение на количество хранимых элементов
* Поддержка шаблонных типов ключей и значений (`TKey`, `TValue`)
* Реализованы следующие стратегии вытеснения:

  * LRU (Least Recently Used)
  * LFU (Least Frequently Used)
  * ARC (Adaptive Replacement Cache) - в разработке
  * Immediate TTL (время жизни с автоматическим удалением)
  * Lazy TTL (время жизни с удалением при доступе)

## Быстрый старт

### 1. Клонирование проекта

```bash
git clone https://github.com/your-username/MemoCache.git
cd MemoCache
```

### 2. Сборка с CMake

Проект поддерживает сборку через CMake:

```bash
mkdir build && cd build
cmake ..
cmake --build .
```

### 3. Пример использования

```cpp
#include "LRUCache.h"

int main() {
    LRUCache<int, std::string> cache(2);
    cache.put(1, "один");
    cache.put(2, "два");

    std::cout << cache.get(1); // "один"
    cache.put(3, "три");       // Вытесняет ключ 2

    try {
        cache.get(2);          // Генерирует исключение
    } catch (const std::runtime_error& e) {
        std::cout << e.what();
    }
}
```

## Реализованные классы

| Класс               | Описание                                      | Статус |
| ------------------- | --------------------------------------------- | ------ |
| `BaseCache`         | Базовый класс для всех кешей                 | Реализован |
| `LRUCache`          | Вытесняет наименее недавно используемые ключи | Реализован |
| `LFUCache`          | Вытесняет наименее часто используемые ключи   | Реализован |
| `ARCCache`          | Адаптивная стратегия замены                  | В разработке |
| `ImmediateTTLCache` | Удаляет элементы автоматически по таймеру     | Реализован |
| `LazyTTLCache`      | Удаляет устаревшие элементы при обращении     | Реализован |

## Особенности реализации

- Потокобезопасность для TTL-кешей
- Чистая архитектура с наследованием от BaseCache
- Использование современных возможностей C++17
- Подробные комментарии в коде

## Тестирование

Тестовые сценарии находятся в `main.cpp`. Каждый кеш протестирован на базовые операции: вставка, чтение, вытеснение, удаление.

## В планах

* Завершение реализации ARCCache
* Расширенные unit-тесты с использованием фреймворков (Catch2, GoogleTest)
* Поддержка сериализации кеша
* Метрики производительности и статистика использования

## Лицензия

Проект распространяется для учебных и исследовательских целей. Использование в сторонных проектах возможно с сохранением упоминания автора.